---
import { getCollection } from 'astro:content';
import ProjectCard from '../components/project-card.astro';
const projects = await getCollection('projects');
const sortedItems = projects.sort((a, b) => a.data.order - b.data.order);
---

<h2>Work</h2>
<div class="projects">
        {sortedItems.map((i, index) => (
    <ProjectCard
        title={i.data.title}
        slug={i.slug}
        cover={i.data.cover}
        style={`--top-offset: ${9 + index * 2}rem;`}
        scope={i.data.scope}
    />
))}
</div>

<style>
.projects {
    top: 4rem;
    scroll-snap-type: mandatory;
}

h2 {
    padding-bottom: 2rem;
    position: sticky;
    top: 4rem;
    background-color: var(--bg-clr);
}
</style>
