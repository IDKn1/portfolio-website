---
import BaseLayout from '../layouts/base.astro';
import ProjectCard from '../components/project-card.astro';
import About from '../components/about.astro';
const projects = Object.values( import.meta.glob("./projects/*.md", {eager: true}));
---

<BaseLayout title="Nikolai's Portfolio Website">
	<div class="hero" slot="full-bleed">
		<h1>Welcome</h1>
		<h2>Scroll</h2>
		<img class="arrow" src="/assets/misc/arrow.svg">
	</div>
	<div class="content">
		<!-- map project markdown files into the project card component -->
		<div class="projects-wrapper">
			<h2>Projects</h2>
			<div class="projects">
				{projects.map((i) => <ProjectCard title={i.frontmatter.title} slug={i.frontmatter.slug} cover={i.frontmatter.cover}/>)}
			</div>
		</div>
		<div class="about">
			<About />
		</div>
	</div>
</BaseLayout>

<style>
/* stack effect from: https://codepen.io/baro82/pen/xxpxJRv*/
.hero,
.content > * {
  position: sticky;
  top: 0;
}

.content > * {
  background-color: var(--bg-clr);
  width: 100%;
  top: 4rem;
}

.content {
	background-color: var(--bg-clr);
	grid-column: 1/4;
	padding-block: 2rem;
	display: grid;
	grid-template-columns: 1fr 90ch 1fr;
}

@media (max-width: 850px) {
  .content {
    grid-template-columns: 1fr 80vw 1fr;
  }
</style>