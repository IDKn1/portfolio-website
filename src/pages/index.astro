---
import BaseLayout from '../layouts/base.astro';
import About from '../components/about.astro';
import Projects from '../components/projects.astro';
---

<BaseLayout title="Nikolai's Portfolio Website">
  <div class="transition-cover" slot="full-bleed"></div>

  <div class="main-text">
    <h3 class="icon-text">N–S</h3>
  </div>

  <div class="hero" slot="full-bleed">
    <div class="main-text">
      <h1 class="hero-text">Nikolai<br>Suvanto</h1>
      <p>
        an art director with a strong interest in how people connect—with each other,
        with ideas, and with the world around them.
      </p>
    </div>
    <h6 class="prompt">
      Scroll
      <img class="arrow" src="/assets/misc/arrow.svg" alt="Scroll down arrow">
    </h6>
  </div>

  <div class="content">
    <div class="projects-wrapper">
      <Projects cato="work" />	
    </div>	

    <div class="about">
      <About />
    </div>

    <!-- <div class="misc-wrapper">
      <Projects cato="misc" />
    </div> -->
  </div>

  <script src="../headerTextFade.js" />
</BaseLayout>

<script>
  import { setupCardClickHandlers } from '../../src/cardTransition.js';
  import { gsap } from "gsap";

  window.addEventListener("pageshow", () => {
    const transitionCover = document.querySelector(".transition-cover");
    if (transitionCover) {
      gsap.set(transitionCover, {
        opacity: 0,
        width: 0,
        height: 0,
        scale: 1,
      });
    }
  });

  document.addEventListener("DOMContentLoaded", () => {
    setupCardClickHandlers();
  });
</script>

<style>
  .transition-cover {
    opacity: 0;
  }

  .content {
    background-color: var(--bg-clr);
    padding-block: 2rem;
  }

  .content > * {
    width: 100%;
    top: 4rem;
  }

  @media (max-width: 850px) {
    .hero-text {
      font-size: 20vw;
    }

    .main-text p {
      font-size: 1.25rem;
    }
  }
</style>
